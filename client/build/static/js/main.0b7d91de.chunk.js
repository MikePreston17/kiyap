(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{239:function(e,t,a){e.exports=a(501)},244:function(e,t,a){},254:function(e,t,a){},272:function(e,t,a){},483:function(e,t,a){},501:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r);a(244),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,s=a(29),c=a(55),u=o.a.createContext(null),m=function(e){return function(t){return o.a.createElement(u.Consumer,null,function(a){return o.a.createElement(e,Object.assign({},t,{firebase:a}))})}},p=u,d=a(11),h=a(117),f=a.n(h),g=(a(245),a(247),{apiKey:"AIzaSyAoujJhS45F3Q20CVaevAqF3IivUZTfmk8",authDomain:"kiyapp-1551475577402.firebaseapp.com",databaseURL:"https://kiyapp-1551475577402.firebaseio.com",projectId:"kiyapp-1551475577402",storageBucket:"kiyapp-1551475577402.appspot.com",messagingSenderId:"552588072009"}),y=function e(){var t=this;Object(d.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},f.a.initializeApp(g),this.auth=f.a.auth(),this.db=f.a.database()},b="/home",v=m(function(e){var t=e.firebase;return o.a.createElement("li",{onClick:t.doSignOut},o.a.createElement(s.b,{to:"/"},"Sign Out"))}),E=o.a.createContext(null),x=a(12),w=a(16),S=a(15),j=a(17),O=function(e){var t=function(t){function a(e){var t;return Object(d.a)(this,a),(t=Object(w.a)(this,Object(S.a)(a).call(this,e))).state={authUser:null},t}return Object(j.a)(a,t),Object(x.a)(a,[{key:"render",value:function(){return o.a.createElement(E.Provider,{value:this.state.authUser},o.a.createElement(e,this.props))}},{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}}]),a}(o.a.Component);return m(t)},k=a(28),C=function(e){return function(t){var a=function(a){function n(){return Object(d.a)(this,n),Object(w.a)(this,Object(S.a)(n).apply(this,arguments))}return Object(j.a)(n,a),Object(x.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return o.a.createElement(E.Consumer,null,function(n){return e(n)?o.a.createElement(t,a.props):null})}}]),n}(o.a.Component);return Object(k.compose)(c.g,m)(a)}},T=a(5),P=function(){return o.a.createElement("ul",{className:"navigation"},o.a.createElement("li",null,o.a.createElement(s.b,{to:b},"Home")),o.a.createElement(v,null))},M=function(){return o.a.createElement("ul",{className:"navigation"},o.a.createElement("li",null,o.a.createElement(s.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(s.b,{to:"/signin"},"Sign In")))},I=Object(T.a)(function(e){return{root:{background:"blue",position:"absolute",width:"100vw",height:50,boxSizing:"border-box",zIndex:10}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(E.Consumer,null,function(e){return e?o.a.createElement(P,null):o.a.createElement(M,null)}))}),N=a(84),W=(a(254),a(53)),z=a(40),A=a(535),F=a(540),R=a(541),B=a(77),D=a(534),U=function(e){return function(t){return o.a.createElement(B.Row,{vertical:"center",horizontal:"center"},o.a.createElement(e,t))}},L=(a(272),Object(T.a)(function(e){return{root:{maxWidth:300,boxSizing:"border-box",padding:"0px 20px",display:"flex",flexFlow:"column nowrap",justifyContents:"flex-start",alignItems:"center",color:"".concat(e.palette.text.primary),"& a":{textDecoration:"none"},"& a:hover, a:visited":{color:"".concat(e.palette.primary.main)}}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(A.a,{variant:"h5",color:"primary",gutterBottom:!0,style:{margin:30}},"Sign Up"),o.a.createElement(G,null))})),_={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},Z=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,o=t.email,r=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(o,r).then(function(e){return a.props.firebase.user(e.user.id).set({username:n,email:o})}).then(function(e){a.setState(Object(z.a)({},_)),a.props.history.push(b)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(W.a)({},e.target.name,e.target.value))},a.state=Object(z.a)({},_),a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,r=e.passwordTwo,l=e.error,i=n!==r||""===n||""===a||""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(F.a,{fullWidth:!0,margin:"dense",variant:"outlined",name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name",label:"Full Name"}),o.a.createElement(F.a,{fullWidth:!0,margin:"dense",variant:"outlined",name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address",label:"Email Address"}),o.a.createElement(F.a,{fullWidth:!0,margin:"dense",variant:"outlined",name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password",label:"Password"}),o.a.createElement(F.a,{fullWidth:!0,margin:"dense",variant:"outlined",name:"passwordTwo",value:r,onChange:this.onChange,type:"password",placeholder:"Confirm Password",label:"Confirm Password"}),o.a.createElement(R.a,{disabled:i,color:"primary",variant:"contained",type:"submit"},"Sign Up"),l&&o.a.createElement("p",null,l.message))}}]),t}(n.Component),J=function(){return o.a.createElement("p",null,"Don't have an account? ",o.a.createElement(s.b,{to:"/signup"},"Sign Up"))},G=Object(k.compose)(c.g,m)(Z),K=U(L),Y=Object(T.a)(function(e){return{root:{maxWidth:300,boxSizing:"border-box",padding:"0px 20px",display:"flex",flexFlow:"column nowrap",justifyContents:"flex-start",alignItems:"center",color:"".concat(e.palette.text.primary),"& a":{textDecoration:"none"},"& a:hover, a:visited":{color:"".concat(e.palette.primary.main)}}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(A.a,{variant:"h5",color:"primary",gutterBottom:!0,style:{margin:30}},"Reset Password"),o.a.createElement($,null))}),H={email:"",error:null},q=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(z.a)({},H))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(W.a)({},e.target.name,e.target.value))},a.state=Object(z.a)({},H),a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(F.a,{name:"email",variant:"outlined",fullWidth:!0,value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),o.a.createElement(R.a,{disabled:n,color:"primary",variant:"contained",type:"submit",style:{marginTop:20}},"Send Link"),a&&o.a.createElement("p",null,a.message))}}]),t}(n.Component),V=function(){return o.a.createElement("p",null,o.a.createElement(s.b,{to:"/pw-forget"},"Forgot Password?"))},X=Y,$=m(q),Q=function(e){return{root:{maxWidth:300,boxSizing:"border-box",padding:"0px 20px",display:"flex",flexFlow:"column nowrap",justifyContents:"flex-start",alignItems:"center",color:"".concat(e.palette.text.primary),"& a":{textDecoration:"none"},"& a:hover, a:visited":{color:"".concat(e.palette.primary.main)}}}},ee={email:"",password:"",error:null},te=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,o=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,o).then(function(){a.setState(Object(z.a)({},ee)),a.props.history.push(b)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(W.a)({},e.target.name,e.target.value))},a.state=Object(z.a)({},ee),a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=this.props.classes,l=""===a||""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(F.a,{fullWidth:!0,name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address",variant:"outlined"}),o.a.createElement(F.a,{className:r.textFeld,margin:"normal",fullWidth:!0,varian:"outlined",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password",variant:"outlined"}),o.a.createElement(R.a,{size:"medium",color:"primary",variant:"contained",disabled:l,type:"submit"},"Let's Go"),n&&o.a.createElement("p",null,n.message))}}]),t}(n.Component),ae=Object(k.compose)(c.g,m,Object(T.a)(Q))(te),ne=(i=U(Object(T.a)(Q)(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(A.a,{variant:"h5",color:"primary",gutterBottom:!0,style:{margin:30}},"Sign In"),o.a.createElement(ae,null),o.a.createElement(V,null),o.a.createElement(J,null))})),function(e){return o.a.createElement(B.Column,{flexGrow:1},o.a.createElement(i,e))}),oe=a(536),re=a(78),le=a.n(re),ie=a(233),se=a.n(ie),ce=function(e){return{root:{overflow:"hidden",position:"absolute",left:0,height:"calc(100vh - 50px)",width:"100%",display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center",color:"white"},"@keyframes fade":{from:{opacity:0},to:{opacity:1}},rightIcon:{animationName:"$fade",marginLeft:e.spacing.unit},gettingStarted:{borderRadius:24,color:"white",border:"2px solid ".concat(e.palette.primary.contrastText),"&:hover":{color:e.palette.primary.main,background:"white",border:"2px solid ".concat(e.palette.primary.main)}},badge:{fontSize:50,border:"2px solid white",color:"white",filter:"drop-shadow(1px 1px 1px black)",padding:"10px 10px",fontFamily:"'Carter One', cursive",letterSpacing:"2px"},subtitle:{fontFamily:"'Permanent Marker', cursive",padding:"10px 20px",fontSize:24,color:"white",filter:"drop-shadow(0px 0px 2px black)"},card:{marginTop:40,minWidth:300,padding:20,"& button":{fontWeight:"bold",margin:8}}}};function ue(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement(E.Consumer,null,function(e){return e?o.a.createElement(fe,{match:t}):o.a.createElement(me,{match:t})}))}var me=Object(k.compose)(Object(T.a)(ce),N.a)(function(e){var t=e.classes;return o.a.createElement("div",{className:le()(t.root,"banner")},o.a.createElement(c.b,{exact:!0,path:"".concat("/"),component:pe}),o.a.createElement(c.b,{path:"".concat("/",":option"),component:de}))}),pe=Object(T.a)(ce)(function(e){var t=e.classes;return o.a.createElement(D.a,null,o.a.createElement("h1",{className:t.badge}," ","KIY'APP"," "),o.a.createElement("p",{className:t.subtitle},"Welcome! Find your local ","sifu"),o.a.createElement(s.b,{to:"/get-started",style:{textDecoration:"none"}},o.a.createElement(R.a,{color:"inherit",variant:"outlined",className:t.gettingStarted},"Get Started",o.a.createElement(se.a,{className:t.rightIcon}))))}),de=Object(T.a)(ce)(function(e){var t=e.classes,a=e.location;return o.a.createElement(oe.a,{className:t.card},o.a.createElement(c.d,{location:a},o.a.createElement(c.b,{path:"/get-started",component:he}),o.a.createElement(c.b,{path:"/signup",component:K}),o.a.createElement(c.b,{path:"/signin",component:ne}),o.a.createElement(c.b,{path:"/pw-forget",component:X})))}),he=function(e){var t=e.history;return o.a.createElement(n.Fragment,null,o.a.createElement(A.a,{variant:"h6",color:"primary",style:{marginBottom:20}},"Welcome! Find your local ","sifu","! Are you a ..."),o.a.createElement(R.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/survey")}},"New Student"),o.a.createElement(R.a,{color:"secondary",variant:"contained",onClick:function(){return t.push("/signin")}},"Professional"))},fe=function(e){e.match;return"/"!==window.location.pathname?o.a.createElement(c.a,{to:"/"}):null},ge=a(28),ye=ge.compose,be=ge.withProps,ve=ge.withState,Ee=ge.withHandlers,xe=a(54),we=xe.withScriptjs,Se=xe.withGoogleMap,je=xe.GoogleMap,Oe=xe.Marker,ke=xe.InfoWindow,Ce=(ye(be({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),ve("zoom","onZoomChange",8),Ee(function(){var e={map:void 0};return{onMapMounted:function(){return function(t){e.map=t}},onZoomChanged:function(t){var a=t.onZoomChange;return function(){a(e.map.getZoom())}}}}),we,Se)(function(e){return o.a.createElement(je,{defaultCenter:{lat:-34.397,lng:150.644},zoom:e.zoom,ref:e.onMapMounted,onZoomChanged:e.onZoomChanged},o.a.createElement(Oe,{position:{lat:-34.397,lng:150.644},onClick:e.onToggleOpen},o.a.createElement(ke,{onCloseClick:e.onToggleOpen},o.a.createElement("div",null,o.a.createElement("i",{className:"fas fa-anchor"})," ","Controlled zoom: ",e.zoom))))}),a(475)),Te=a(28),Pe=Te.compose,Me=Te.withProps,Ie=Te.lifecycle,Ne=a(54),We=Ne.withScriptjs,ze=Ne.withGoogleMap,Ae=Ne.GoogleMap,Fe=Ne.Marker,Re=a(476).SearchBox;var Be=Pe(Me({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),Ie({componentWillMount:function(){var e=this,t={};this.store=this.props.store,this.setState({bounds:null,center:{lat:41.9,lng:-87.624},markers:[],onMapMounted:function(e){t.map=e},onBoundsChanged:function(){e.setState({bounds:t.map.getBounds(),center:t.map.getCenter()})},onSearchBoxMounted:function(e){t.searchBox=e},onPlacesChanged:function(){var a=t.searchBox.getPlaces(),n=new google.maps.LatLngBounds;e.props.store.switchToResults(),e.store.addSchools(a),a.forEach(function(e){e.geometry.viewport?n.union(e.geometry.viewport):n.extend(e.geometry.location)});var o=a.map(function(e){return{position:e.geometry.location}}),r={center:Ce.get(o,"0.position",e.state.center),markers:o};e.setState(r)}})},componentDidMount:function(){},componentWillUpdate:function(){},getGeoLocation:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude}),console.log("geo position: ",t)})}}),We,ze)(function(e){return o.a.createElement(Ae,{ref:e.onMapMounted,defaultZoom:15,center:e.center,onBoundsChanged:e.onBoundsChanged,clickableIcons:!0,options:{styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"},{color:"#f49f53"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"on"},{color:"#ffffff"},{saturation:"43"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{visibility:"simplified"}]},{featureType:"administrative.locality",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"off"},{hue:"#ff0000"},{saturation:"42"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#feeada"},{lightness:-7}]},{featureType:"poi.business",elementType:"all",stylers:[{color:"#645c20"},{lightness:38}]},{featureType:"poi.government",elementType:"all",stylers:[{color:"#9e5916"},{lightness:46}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#813033"},{lightness:38},{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{lightness:"-27"},{saturation:"-31"},{hue:"#aaff00"}]},{featureType:"poi.school",elementType:"all",stylers:[{color:"#a95521"},{lightness:35}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{color:"#9e5916"},{lightness:32}]},{featureType:"road",elementType:"all",stylers:[{color:"#ff1744"},{lightness:"20"},{weight:"0.5"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:"6"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#f19f53"},{visibility:"on"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#f19f53"},{lightness:-10}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"},{saturation:"6"},{lightness:"-37"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#fffcfc"}]},{featureType:"transit",elementType:"all",stylers:[{lightness:38}]},{featureType:"transit.line",elementType:"all",stylers:[{color:"#813033"},{lightness:22}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#007ba6"},{saturation:"-44"},{gamma:.99},{lightness:43}]}]}},o.a.createElement(Re,{ref:e.onSearchBoxMounted,bounds:e.bounds,controlPosition:google.maps.ControlPosition.TOP_LEFT,onPlacesChanged:e.onPlacesChanged},o.a.createElement("input",{type:"text",placeholder:"Search Dojos",style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",marginTop:"27px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses"}})),e.markers.map(function(e,t){return o.a.createElement(Fe,{key:t,position:e.position})}))}),De=a(28),Ue=De.compose,Le=De.withProps,_e=De.lifecycle,Ze=a(54).withScriptjs,Je=a(478).StandaloneSearchBox,Ge=(Ue(Le({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}})}),_e({componentWillMount:function(){var e=this,t={};this.setState({places:[],onSearchBoxMounted:function(e){t.searchBox=e},onPlacesChanged:function(){var a=t.searchBox.getPlaces();e.setState({places:a})}})}}),Ze)(function(e){return o.a.createElement("div",{"data-standalone-searchbox":""},o.a.createElement(Je,{ref:e.onSearchBoxMounted,bounds:e.bounds,onPlacesChanged:e.onPlacesChanged},o.a.createElement("input",{type:"text",placeholder:"Customized your placeholder",style:Ge})),o.a.createElement("ol",null,e.places.map(function(e){var t=e.place_id,a=e.formatted_address,n=e.geometry.location;return o.a.createElement("li",{key:t},a," at ","(",n.lat(),", ",n.lng(),")")})))}),{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses"}),Ke=a(54),Ye={lat:-34.397,lng:150.644},He=Object(k.compose)(Object(k.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&callback=initMap"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),Ke.withScriptjs,Ke.withGoogleMap)(function(e){return o.a.createElement(Ke.GoogleMap,{defaultZoom:8,defaultCenter:Ye},e.isMarkerShown&&o.a.createElement(Ke.Marker,{position:Ye,onClick:e.onMarkerClick}))}),qe=(o.a.PureComponent,a(120)),Ve=a.n(qe),Xe=(o.a.Component,a(538)),$e=a(537),Qe=function(e){var t=e._id,a=(e.owner,e.address),n=e.teaches,r=e.website,l=(e.phone,e.name),i=e.image,s=e.onRemove;return o.a.createElement(D.a,{item:!0,xs:6,direction:"row",alignContent:"center",alignItems:"center",wrap:"wrap"},o.a.createElement(oe.a,{style:{boxShadow:"1 1px 5px rgba(0,0,0,0.2)",minHeight:250,maxHeight:250,padding:"0px 10px",paddingTop:"20px",display:"flex",flexFlow:"column nowrap",justifyContent:"space-between"}},i&&o.a.createElement($e.a,{image:i,title:l}),o.a.createElement(A.a,{gutterBottom:!0,variant:"headline",component:"h2"},l),n&&o.a.createElement(A.a,{component:"strong"},o.a.createElement("p",null,o.a.createElement("strong",null,"Teaches:")," ",n.join(", "))),a&&o.a.createElement(A.a,{component:"strong"},o.a.createElement("p",null,o.a.createElement("strong",null,"Address:")," ",a)),o.a.createElement(Xe.a,null,o.a.createElement(R.a,{size:"small",color:"primary",href:r,target:"_blank"},"Go To School Website"),o.a.createElement(R.a,{size:"small",color:"secondary",target:"_blank",onClick:function(){return s(t)}},"Delete"))))},et=Object(T.a)(function(e){return{root:{},locationCard:{border:"2px solid blue",height:300,width:250,minWidth:250}}})(function(e){var t=e.formatted_address,a=e.name,n=e.image,r=(e.photos,e.place_id),l=(e.classes,e.onLike),i=e.onDislike;return o.a.createElement(D.a,{item:!0,xs:6,direction:"row",alignContent:"center",alignItems:"center",wrap:"wrap"},o.a.createElement(oe.a,{style:{boxShadow:"1 1px 5px rgba(0,0,0,0.2)",minHeight:250,maxHeight:250,padding:"0px 10px",paddingTop:"20px",display:"flex",flexFlow:"column nowrap",justifyContent:"space-between"}},n&&o.a.createElement($e.a,{image:n,title:a}),a&&o.a.createElement(A.a,{gutterBottom:!0,variant:"headline",component:"h2"},a),t&&o.a.createElement(A.a,{component:"p"},t),o.a.createElement(Xe.a,null,o.a.createElement(R.a,{size:"small",color:"primary",target:"_blank",onClick:function(){return l(r)}},"Like"),o.a.createElement(R.a,{size:"small",color:"secondary",target:"_blank",onClick:function(){return i(r)}},"Dislike"))))}),tt=function(e){return e.geometry?o.a.createElement(et,e):o.a.createElement(Qe,e)},at=a(539),nt=a(9),ot=function(e){return{root:{},backdrop:{margin:20,marginTop:50,height:500,width:"100vw",overflow:"visible",marginBottom:120,background:e.palette.primary.main},panel:{transition:"left 0.7s cubic-bezier(0.950, 0.050, 0.795, 0.035)",left:"calc(calc(calc(100vw - 900px) / 2) + 10px)",boxShadow:"1px 3px 9px 0px rgba(0,0,0,0.4)",position:"relative",background:"white",borderRadius:6,height:600,width:600,top:-50,zIndex:0,"&.active":{left:"calc(calc(calc(100vw - 900px) / 2) + 290px)"}},toggleLeft:{color:"white",transform:"translateY(-50%)",position:"absolute",top:"50%",boxSizing:"border-box",padding:20,left:-280,width:280,height:500,zIndex:1,opacity:0,display:"flex",flexFlow:"column nowrap",justifyContent:"center","& > * ":{margin:20},"& button":{borderRadius:24,borderWidth:2},transition:"opacity 0.3s linear 0.0s !important","div.active > &":{opacity:1,transition:"opacity 0.5s linear 0.5s !important"}},toggleRight:{color:"white",transform:"translateY(-50%)",position:"absolute",top:"50%",boxSizing:"border-box",padding:20,left:600,width:280,height:500,zIndex:2,opacity:0,display:"flex",flexFlow:"column nowrap",justifyContent:"center","& > * ":{margin:20},"& button":{borderRadius:24,borderWidth:2},transition:"opacity 0.3s linear 0.0s !important","div:not(.active) > &":{opacity:1,transition:"opacity 0.5s linear 0.5s !important"}},icon:{boxSizing:"border-box",width:200,fontSize:48,textAlign:"center"},expand:{height:"100%",overflowX:"hidden",overflowY:"scroll"}}},rt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(o)))).state={search:"",toggle:!1},a.onFilterChange=function(e){var t=e.target.value;console.log("searched for:",t),e.target.value?a.setState({search:t}):a.setState({search:""})},a.clearList=function(){a.props.store.clear()},a.togglePanel=function(){a.setState({toggle:!a.state.toggle})},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.store,a=e.classes,n=this.props.store.toggle,r=this.props.store.togglePanel;return console.log(Object(nt.m)(this.props.store)),o.a.createElement("div",{className:a.root},o.a.createElement("div",{className:a.backdrop},o.a.createElement("div",{className:le()(a.panel,n&&"active")},!n&&o.a.createElement("div",{className:a.expand},t.locations?o.a.createElement(st,{locations:t.locations,store:t}):"Search for locations on the map"),n&&o.a.createElement("div",{className:a.expand},t.schools?o.a.createElement(ct,{schools:t.schools,store:t}):"No Schools found"),o.a.createElement(it,Object.assign({className:a.toggleLeft},{togglePanel:r})),o.a.createElement(lt,Object.assign({className:a.toggleRight},{togglePanel:r})))))}}]),t}(n.Component),lt=Object(T.a)(ot)(function(e){var t=e.togglePanel,a=e.classes;return o.a.createElement("div",{className:a.toggleRight,onClick:t},o.a.createElement(at.a,{className:le()(a.icon,"far fa-heart")}),o.a.createElement(A.a,{color:"inherit",variant:"h5"},"See your favorite locations!"),o.a.createElement(R.a,{variant:"outlined",style:{color:"white",borderColor:"white"},onClick:t},"View Picks"))}),it=Object(T.a)(ot)(function(e){var t=e.togglePanel,a=e.classes;return o.a.createElement("div",{className:a.toggleLeft,onClick:t},o.a.createElement(at.a,{className:le()(a.icon,"far fa-map")}),o.a.createElement(A.a,{color:"inherit",variant:"h5"},"Find new and exciting locations!"),o.a.createElement(R.a,{variant:"outlined",style:{color:"white",borderColor:"white"},onClick:t},"See Results"))});function st(e){var t=e.locations,a=e.store;function n(e){a.saveSchool(e)}function r(e){a.removeLocation(e)}return o.a.createElement(B.Column,{flexGrow:1,horizontal:"center"},o.a.createElement(A.a,{variant:"h4",color:"primary",style:{margin:24}},"Search Results"),o.a.createElement(D.a,{container:!0,spacing:24,style:{padding:24}},t.map(function(e){return o.a.createElement(tt,Object.assign({},e,{onDislike:r,onLike:n,key:e.place_id}))})))}function ct(e){var t=e.schools,a=e.store;function n(e){a.removeSchool(e)}return o.a.createElement(B.Column,{flexGrow:1,horizontal:"center"},o.a.createElement(A.a,{variant:"h4",color:"primary",style:{margin:24}},"My Favorites"),o.a.createElement(D.a,{container:!0,spacing:24,style:{padding:24}},t.map(function(e){return o.a.createElement(tt,Object.assign({},e,{onRemove:n,key:e.name}))})))}rt=Object(T.a)(ot)(Object(N.a)(rt));var ut=U(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).onSearch=function(e){},a.store=e.store,a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(rt,{store:this.store}))}}]),t}(n.Component));a(483);var mt=a(235),pt=a(31),dt=a.n(pt),ht=function(e){return dt.a.get("/api/schools/student/"+e)},ft=function(e){return dt.a.delete("/api/schools/"+e)},gt=function(e){return dt.a.post("/api/schools",e)},yt=function(){function e(t){var a=t.studentId;Object(d.a)(this,e),this.studentId=a,this.locations=[],this.schools=[],this.toggle=!1,this.loadSavedSchools()}return Object(x.a)(e,[{key:"clear",value:function(){this.locations=[]}},{key:"togglePanel",value:function(){this.toggle=!this.toggle}},{key:"switchToResults",value:function(){this.toggle=!1}},{key:"addSchools",value:function(e){console.log("new locations: ",e),this.locations=Object(mt.a)(e)}},{key:"removeLocation",value:function(e){this.locations=this.locations.filter(function(t){return t.place_id!==e})}},{key:"removeSchool",value:function(e){this.schools=this.schools.filter(function(t){return t._id!==e}),ft(e).catch(console.error)}},{key:"saveSchool",value:function(e){if(!Object(nt.m)(this.schools).some(function(t){return t.placeId===e})){var t=this.locations.find(function(t){return t.place_id===e}),a=t.name,n=t.formatted_address,o=(t.place_id,{placeId:e,name:a,address:n,studentId:this.studentId});this.schools.push(o),console.log("saving school: ",o),gt(o).catch(console.error)}}},{key:"loadSavedSchools",value:function(){var e=this;console.log("loaded student id: ",this.studentId),ht(this.studentId).then(function(t){var a=t.data;console.log("saved schools: ",a),e.schools=a}).catch(console.error)}}]),e}();Object(nt.f)(yt,{locations:nt.k,schools:nt.k,toggle:nt.k,clear:nt.b,addSchools:nt.b,togglePanel:nt.b.bound,switchToResults:nt.b.bound});var bt=function(e){var t=e.classes,a=e.studentId,n=new yt({studentId:a});return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.content},o.a.createElement(oe.a,{className:t.maps},o.a.createElement(Be,{store:n})),o.a.createElement(ut,{store:n})))},vt=C(function(e){return!!e})(Object(T.a)(function(e){return{root:{background:"linear-gradient(to bottom, ".concat("#ffe8bd"," 30% , ",e.palette.primary.dark," 80%)"),width:"100vw",display:"flex",flexFlow:"row nowrap",justifyContent:"center",overflow:"hidden"},content:{minWidth:900,maxWidth:900,overflow:"visible"},maps:{borderRadius:8,padding:20,boxSizing:"border-box",boxShadow:"1px 3px 9px 0px rgba(0,0,0,0.4)",margin:"20px 10px"}}})(function(e){var t=e.classes;return o.a.createElement(E.Consumer,null,function(e){return o.a.createElement("div",null,o.a.createElement(bt,{classes:t,studentId:e.uid}))})})),Et=a(121),xt=(a(500),["Taekwondo","Brazilian Jiu-Jitsu","Kickboxing","Karate","Jeet Kun Do","Kung Fu","Tai Chi","Fencing","Krav Maga","Muay Thai","Arnis","Aikido","Mixed Martial Arts","Boxing","Capoeira","Wrestling","Jojutso","Judo","Kendo","Ninjutsu","Sambo","Sumo","Wing Chun"]);Et.StylesManager.applyTheme("default");var wt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(o)))).state={disciplines:[]},a.json={title:"Kiyapp Survey",pages:[{name:"Experience",elements:[{type:"dropdown",name:"Favorite",title:"Which is your favorite martial art?",isRequired:!0,choices:xt}],title:"Your Experience"}],sendResultOnPageNext:!0,showNavigationButtons:"top",showPageNumbers:!0,startSurveyText:"Start",pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete"},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentWillMount",value:function(){console.log("will mount")}},{key:"componentDidMount",value:function(){console.log("survey has mounted"),console.log(this.props)}},{key:"onComplete",value:function(e,t,a){console.log(t),t.push("/signup"),console.log("Survey results: "+JSON.stringify(e.data)),localStorage.setItem("surveyData",JSON.stringify(e.data))}},{key:"render",value:function(){var e=this,t=this.state.disciplines;console.log("render",this.json);var a=St(this.json,["pages",0,"elements",0,"choices"]);t.forEach(function(e){return a.push(e)});var r=new Et.Model(this.json);return o.a.createElement(n.Fragment,null,o.a.createElement(Et.Survey,{model:r,onComplete:function(t){return e.onComplete(t,e.props.history)}}))}}]),t}(n.Component),St=function(e,t){return t.reduce(function(e,t){return e&&"undefined"!==e[t]?e[t]:void 0},e)},jt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(w.a)(this,Object(S.a)(t).call(this,e))).state={loading:!1,users:[]},a}return Object(j.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val();console.log("users obj:",a);var n=Object.keys(a).map(function(e){return Object(z.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return o.a.createElement("div",null,o.a.createElement("h1",null,"Admin"),console.log("loading: ",a,"users:",t),a&&o.a.createElement("div",null,"Loading ..."),o.a.createElement(Ot,{users:t}))}}]),t}(n.Component),Ot=function(e){var t=e.users;return o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.uid},o.a.createElement("span",null,o.a.createElement("strong",null,"ID:")," ",e.uid),o.a.createElement("span",null,o.a.createElement("strong",null,"E-Mail:")," ",e.email),o.a.createElement("span",null,o.a.createElement("strong",null,"Username:")," ",e.username))}))},kt=(m(jt),a(234)),Ct=a(543),Tt=Object(kt.a)({palette:{primary:{main:"#ff1744"},secondary:{main:"#000"}}}),Pt=function(e){var t=e.classes,a=e.location;return o.a.createElement(Ct.a,{theme:Tt},o.a.createElement(I,{className:t.navigation}),o.a.createElement("div",{className:t.root},o.a.createElement(c.d,{location:a},o.a.createElement(c.b,{exact:!0,path:b,component:vt}),o.a.createElement(c.b,{exact:!0,path:"/survey",component:wt}),o.a.createElement(c.b,{path:"/",component:ue}))))},Mt=O(Object(T.a)(function(e){return{root:{background:"white",height:"calc(100vh - 50px)",textAlign:"center",overflowX:"hidden",overflowY:"scroll",display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"flex-start",paddingTop:50},navigation:{position:"aboslute",background:"black !important",height:50,boxSizing:"border-box"}}})(function(e){var t=e.classes;return o.a.createElement(s.a,null,o.a.createElement(Pt,{classes:t}))}));l.a.render(o.a.createElement(p.Provider,{value:new y},o.a.createElement(Mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[239,1,2]]]);
//# sourceMappingURL=main.0b7d91de.chunk.js.map