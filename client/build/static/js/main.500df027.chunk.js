(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{367:function(e,t,a){e.exports=a(739)},372:function(e,t,a){},435:function(e,t,a){},455:function(e,t,a){},719:function(e,t,a){},739:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),l=a.n(r);a(372),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,s=a(744),c=a(746),u=a(742),m=a(741),p=o.a.createContext(null),d=function(e){return function(t){return o.a.createElement(p.Consumer,null,function(a){return o.a.createElement(e,Object.assign({},t,{firebase:a}))})}},h=p,f=a(14),g=a(123),y=a.n(g),v=(a(373),a(375),{apiKey:"AIzaSyAoujJhS45F3Q20CVaevAqF3IivUZTfmk8",authDomain:"kiyapp-1551475577402.firebaseapp.com",databaseURL:"https://kiyapp-1551475577402.firebaseio.com",projectId:"kiyapp-1551475577402",storageBucket:"kiyapp-1551475577402.appspot.com",messagingSenderId:"552588072009"}),b=function e(){var t=this;Object(f.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},y.a.initializeApp(v),this.auth=y.a.auth(),this.db=y.a.database()},E="/home",x=d(function(e){var t=e.firebase;return o.a.createElement("li",{onClick:t.doSignOut},o.a.createElement(m.a,{to:"/"},"Sign Out"))}),w=o.a.createContext(null),S=a(15),j=a(23),O=a(22),k=a(24),C=function(e){var t=function(t){function a(e){var t;return Object(f.a)(this,a),(t=Object(j.a)(this,Object(O.a)(a).call(this,e))).state={authUser:null},t}return Object(k.a)(a,t),Object(S.a)(a,[{key:"render",value:function(){return o.a.createElement(w.Provider,{value:this.state.authUser},o.a.createElement(e,this.props))}},{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}}]),a}(o.a.Component);return d(t)},T=a(745),P=a(36),M=function(e){return function(t){var a=function(a){function n(){return Object(f.a)(this,n),Object(j.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(k.a)(n,a),Object(S.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return o.a.createElement(w.Consumer,null,function(n){return e(n)?o.a.createElement(t,a.props):null})}}]),n}(o.a.Component);return Object(P.compose)(T.a,d)(a)}},I=a(13),N=function(){return o.a.createElement("ul",{className:"navigation"},o.a.createElement("li",null,o.a.createElement(m.a,{to:E},"Home")),o.a.createElement(x,null))},W=function(){return o.a.createElement("ul",{className:"navigation"},o.a.createElement("li",null,o.a.createElement(m.a,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(m.a,{to:"/signin"},"Sign In")))},z=Object(I.withStyles)(function(e){return{root:{background:"blue",position:"absolute",width:"100vw",height:50,boxSizing:"border-box",zIndex:10}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(w.Consumer,null,function(e){return e?o.a.createElement(N,null):o.a.createElement(W,null)}))}),A=a(87),F=(a(435),a(51)),R=a(42),B=a(6),D=a(78),U=a(63),L=a.n(U),_=function(e){return function(t){return o.a.createElement(D.Row,{vertical:"center",horizontal:"center"},o.a.createElement(e,t))}},Z=(a(455),Object(I.withStyles)(function(e){return{root:{maxWidth:300,boxSizing:"border-box",padding:"0px 20px",display:"flex",flexFlow:"column nowrap",justifyContents:"flex-start",alignItems:"center",color:"".concat(e.palette.text.primary),"& a":{textDecoration:"none"},"& a:hover, a:visited":{color:"".concat(e.palette.primary.main)}}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(B.f,{variant:"h5",color:"primary",gutterBottom:!0,style:{margin:30}},"Sign Up"),o.a.createElement(Y,null))})),J={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},G=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,o=t.email,r=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(o,r).then(function(e){return a.props.firebase.user(e.user.id).set({username:n,email:o})}).then(function(e){a.setState(Object(R.a)({},J)),a.props.history.push(E)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},J),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,r=e.passwordTwo,l=e.error,i=n!==r||""===n||""===a||""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(B.e,{fullWidth:!0,margin:"dense",variant:"outlined",name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name",label:"Full Name"}),o.a.createElement(B.e,{fullWidth:!0,margin:"dense",variant:"outlined",name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address",label:"Email Address"}),o.a.createElement(B.e,{fullWidth:!0,margin:"dense",variant:"outlined",name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password",label:"Password"}),o.a.createElement(B.e,{fullWidth:!0,margin:"dense",variant:"outlined",name:"passwordTwo",value:r,onChange:this.onChange,type:"password",placeholder:"Confirm Password",label:"Confirm Password"}),o.a.createElement(B.a,{disabled:i,color:"primary",variant:"contained",type:"submit"},"Sign Up"),l&&o.a.createElement("p",null,l.message))}}]),t}(n.Component),K=function(){return o.a.createElement("p",null,"Don't have an account? ",o.a.createElement(m.a,{to:"/signup"},"Sign Up"))},Y=Object(P.compose)(T.a,d)(G),H=_(Z),q=Object(I.withStyles)(function(e){return{root:{maxWidth:300,boxSizing:"border-box",padding:"0px 20px",display:"flex",flexFlow:"column nowrap",justifyContents:"flex-start",alignItems:"center",color:"".concat(e.palette.text.primary),"& a":{textDecoration:"none"},"& a:hover, a:visited":{color:"".concat(e.palette.primary.main)}}}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(B.f,{variant:"h5",color:"primary",gutterBottom:!0,style:{margin:30}},"Reset Password"),o.a.createElement(ee,null))}),V={email:"",error:null},X=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(R.a)({},V))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},V),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(B.e,{name:"email",variant:"outlined",fullWidth:!0,value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),o.a.createElement(B.a,{disabled:n,color:"primary",variant:"contained",type:"submit",style:{marginTop:20}},"Send Link"),a&&o.a.createElement("p",null,a.message))}}]),t}(n.Component),$=function(){return o.a.createElement("p",null,o.a.createElement(m.a,{to:"/pw-forget"},"Forgot Password?"))},Q=q,ee=d(X),te=function(e){return{root:{maxWidth:300,boxSizing:"border-box",padding:"0px 20px",display:"flex",flexFlow:"column nowrap",justifyContents:"flex-start",alignItems:"center",color:"".concat(e.palette.text.primary),"& a":{textDecoration:"none"},"& a:hover, a:visited":{color:"".concat(e.palette.primary.main)}}}},ae={email:"",password:"",error:null},ne=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,o=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,o).then(function(){a.setState(Object(R.a)({},ae)),a.props.history.push(E)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(F.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},ae),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,r=this.props.classes,l=""===a||""===t;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(B.e,{fullWidth:!0,name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address",variant:"outlined"}),o.a.createElement(B.e,{className:r.textFeld,margin:"normal",fullWidth:!0,varian:"outlined",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password",variant:"outlined"}),o.a.createElement(B.a,{size:"medium",color:"primary",variant:"contained",disabled:l,type:"submit"},"Let's Go"),n&&o.a.createElement("p",null,n.message))}}]),t}(n.Component),oe=Object(P.compose)(T.a,d,Object(I.withStyles)(te))(ne),re=(i=_(Object(I.withStyles)(te)(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(B.f,{variant:"h5",color:"primary",gutterBottom:!0,style:{margin:30}},"Sign In"),o.a.createElement(oe,null),o.a.createElement($,null),o.a.createElement(K,null))})),function(e){return o.a.createElement(D.Column,{flexGrow:1},o.a.createElement(i,e))}),le=a(8),ie=a.n(le),se=a(743),ce=a(288),ue=a.n(ce),me=function(e){return{root:{overflow:"hidden",position:"absolute",left:0,height:"calc(100vh - 50px)",width:"100%",display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center",color:"white"},"@keyframes fade":{from:{opacity:0},to:{opacity:1}},rightIcon:{animationName:"$fade",marginLeft:e.spacing.unit},gettingStarted:{borderRadius:24,color:"white",border:"2px solid ".concat(e.palette.primary.contrastText),"&:hover":{color:e.palette.primary.main,background:"white",border:"2px solid ".concat(e.palette.primary.main)}},badge:{fontSize:50,border:"2px solid white",color:"white",filter:"drop-shadow(1px 1px 1px black)",padding:"10px 10px",fontFamily:"'Carter One', cursive",letterSpacing:"2px"},subtitle:{fontFamily:"'Permanent Marker', cursive",padding:"10px 20px",fontSize:24,color:"white",filter:"drop-shadow(0px 0px 2px black)"},card:{marginTop:40,minWidth:300,padding:20,"& button":{fontWeight:"bold",margin:8}}}};function pe(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement(w.Consumer,null,function(e){return e?o.a.createElement(ye,{match:t}):o.a.createElement(de,{match:t})}))}var de=Object(P.compose)(Object(I.withStyles)(me),A.a)(function(e){var t=e.classes;return o.a.createElement("div",{className:ie()(t.root,"banner")},o.a.createElement(u.a,{exact:!0,path:"".concat("/"),component:he}),o.a.createElement(u.a,{path:"".concat("/",":option"),component:fe}))}),he=Object(I.withStyles)(me)(function(e){var t=e.classes;return o.a.createElement(B.c,null,o.a.createElement("h1",{className:t.badge}," ","KIY'APP"," "),o.a.createElement("p",{className:t.subtitle},"Welcome! Find your local ","sifu"),o.a.createElement(m.a,{to:"/get-started",style:{textDecoration:"none"}},o.a.createElement(B.a,{color:"inherit",variant:"outlined",className:t.gettingStarted},"Get Started",o.a.createElement(ue.a,{className:t.rightIcon}))))}),fe=Object(I.withStyles)(me)(function(e){var t=e.classes,a=e.location;return o.a.createElement(B.b,{className:t.card},o.a.createElement(c.a,{location:a},o.a.createElement(u.a,{path:"/get-started",component:ge}),o.a.createElement(u.a,{path:"/signup",component:H}),o.a.createElement(u.a,{path:"/signin",component:re}),o.a.createElement(u.a,{path:"/pw-forget",component:Q})))}),ge=function(e){var t=e.history;return o.a.createElement(n.Fragment,null,o.a.createElement(B.f,{variant:"h6",color:"primary",style:{marginBottom:20}},"Welcome! Find your local ","sifu","! Are you a ..."),o.a.createElement(B.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/survey")}},"New Student"),o.a.createElement(B.a,{color:"secondary",variant:"contained",onClick:function(){return t.push("/signin")}},"Professional"))},ye=function(e){e.match;return"/"!==window.location.pathname?o.a.createElement(se.a,{to:"/"}):null},ve=a(36),be=ve.compose,Ee=ve.withProps,xe=ve.withState,we=ve.withHandlers,Se=a(53),je=Se.withScriptjs,Oe=Se.withGoogleMap,ke=Se.GoogleMap,Ce=Se.Marker,Te=Se.InfoWindow,Pe=(be(Ee({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),xe("zoom","onZoomChange",8),we(function(){var e={map:void 0};return{onMapMounted:function(){return function(t){e.map=t}},onZoomChanged:function(t){var a=t.onZoomChange;return function(){a(e.map.getZoom())}}}}),je,Oe)(function(e){return o.a.createElement(ke,{defaultCenter:{lat:-34.397,lng:150.644},zoom:e.zoom,ref:e.onMapMounted,onZoomChanged:e.onZoomChanged},o.a.createElement(Ce,{position:{lat:-34.397,lng:150.644},onClick:e.onToggleOpen},o.a.createElement(Te,{onCloseClick:e.onToggleOpen},o.a.createElement("div",null,o.a.createElement("i",{className:"fas fa-anchor"})," ","Controlled zoom: ",e.zoom))))}),a(709)),Me=a(36),Ie=Me.compose,Ne=Me.withProps,We=Me.lifecycle,ze=a(53),Ae=ze.withScriptjs,Fe=ze.withGoogleMap,Re=ze.GoogleMap,Be=ze.Marker,De=a(710).SearchBox;var Ue=Ie(Ne({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),We({componentWillMount:function(){var e=this,t={};this.store=this.props.store,this.setState({bounds:null,center:{lat:41.9,lng:-87.624},markers:[],onMapMounted:function(e){t.map=e},onBoundsChanged:function(){e.setState({bounds:t.map.getBounds(),center:t.map.getCenter()})},onSearchBoxMounted:function(e){t.searchBox=e},onPlacesChanged:function(){var a=t.searchBox.getPlaces(),n=new google.maps.LatLngBounds;e.props.store.switchToResults(),e.store.addSchools(a),a.forEach(function(e){e.geometry.viewport?n.union(e.geometry.viewport):n.extend(e.geometry.location)});var o=a.map(function(e){return{position:e.geometry.location}}),r={center:Pe.get(o,"0.position",e.state.center),markers:o};e.setState(r)}})},componentDidMount:function(){},componentWillUpdate:function(){},getGeoLocation:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude}),console.log("geo position: ",t)})}}),Ae,Fe)(function(e){return o.a.createElement(Re,{ref:e.onMapMounted,defaultZoom:15,center:e.center,onBoundsChanged:e.onBoundsChanged,clickableIcons:!0,options:{styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"},{color:"#f49f53"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"on"},{color:"#ffffff"},{saturation:"43"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{visibility:"simplified"}]},{featureType:"administrative.locality",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"off"},{hue:"#ff0000"},{saturation:"42"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#feeada"},{lightness:-7}]},{featureType:"poi.business",elementType:"all",stylers:[{color:"#645c20"},{lightness:38}]},{featureType:"poi.government",elementType:"all",stylers:[{color:"#9e5916"},{lightness:46}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#813033"},{lightness:38},{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{lightness:"-27"},{saturation:"-31"},{hue:"#aaff00"}]},{featureType:"poi.school",elementType:"all",stylers:[{color:"#a95521"},{lightness:35}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{color:"#9e5916"},{lightness:32}]},{featureType:"road",elementType:"all",stylers:[{color:"#ff1744"},{lightness:"20"},{weight:"0.5"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:"6"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#f19f53"},{visibility:"on"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#f19f53"},{lightness:-10}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"},{saturation:"6"},{lightness:"-37"}]},{featureType:"road.local",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#fffcfc"}]},{featureType:"transit",elementType:"all",stylers:[{lightness:38}]},{featureType:"transit.line",elementType:"all",stylers:[{color:"#813033"},{lightness:22}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#007ba6"},{saturation:"-44"},{gamma:.99},{lightness:43}]}]}},o.a.createElement(De,{ref:e.onSearchBoxMounted,bounds:e.bounds,controlPosition:google.maps.ControlPosition.TOP_LEFT,onPlacesChanged:e.onPlacesChanged},o.a.createElement("input",{type:"text",placeholder:"Search Dojos",style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",marginTop:"27px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses"}})),e.markers.map(function(e,t){return o.a.createElement(Be,{key:t,position:e.position})}))}),Le=a(36),_e=Le.compose,Ze=Le.withProps,Je=Le.lifecycle,Ge=a(53).withScriptjs,Ke=a(712).StandaloneSearchBox,Ye=(_e(Ze({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}})}),Je({componentWillMount:function(){var e=this,t={};this.setState({places:[],onSearchBoxMounted:function(e){t.searchBox=e},onPlacesChanged:function(){var a=t.searchBox.getPlaces();e.setState({places:a})}})}}),Ge)(function(e){return o.a.createElement("div",{"data-standalone-searchbox":""},o.a.createElement(Ke,{ref:e.onSearchBoxMounted,bounds:e.bounds,onPlacesChanged:e.onPlacesChanged},o.a.createElement("input",{type:"text",placeholder:"Customized your placeholder",style:Ye})),o.a.createElement("ol",null,e.places.map(function(e){var t=e.place_id,a=e.formatted_address,n=e.geometry.location;return o.a.createElement("li",{key:t},a," at ","(",n.lat(),", ",n.lng(),")")})))}),{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses"}),He=a(53),qe={lat:-34.397,lng:150.644},Ve=Object(P.compose)(Object(P.withProps)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDErcavr_Zf0a0A-5tK5OZ38YO5JblIxWM","&callback=initMap"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"400px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),He.withScriptjs,He.withGoogleMap)(function(e){return o.a.createElement(He.GoogleMap,{defaultZoom:8,defaultCenter:qe},e.isMarkerShown&&o.a.createElement(He.Marker,{position:qe,onClick:e.onMarkerClick}))}),Xe=(o.a.PureComponent,a(124)),$e=a.n(Xe),Qe=(o.a.Component,a(88)),et=a.n(Qe),tt=a(90),at=a.n(tt),nt=a(89),ot=a.n(nt),rt=a(52),lt=a.n(rt),it=a(54),st=a.n(it),ct=function(e){var t=e._id,a=(e.owner,e.address),n=e.teaches,r=e.website,l=(e.phone,e.name),i=e.image,s=e.onRemove;return o.a.createElement(B.c,{item:!0,xs:6,direction:"row",alignContent:"center",alignItems:"center",wrap:"wrap"},o.a.createElement(et.a,{style:{boxShadow:"1 1px 5px rgba(0,0,0,0.2)",minHeight:250,maxHeight:250,padding:"0px 10px",paddingTop:"20px",display:"flex",flexFlow:"column nowrap",justifyContent:"space-between"}},i&&o.a.createElement(ot.a,{image:i,title:l}),o.a.createElement(st.a,{gutterBottom:!0,variant:"headline",component:"h2"},l),n&&o.a.createElement(st.a,{component:"strong"},o.a.createElement("p",null,o.a.createElement("strong",null,"Teaches:")," ",n.join(", "))),a&&o.a.createElement(st.a,{component:"strong"},o.a.createElement("p",null,o.a.createElement("strong",null,"Address:")," ",a)),o.a.createElement(at.a,null,o.a.createElement(lt.a,{size:"small",color:"primary",href:r,target:"_blank"},"Go To School Website"),o.a.createElement(lt.a,{size:"small",color:"secondary",target:"_blank",onClick:function(){return s(t)}},"Delete"))))},ut=Object(I.withStyles)(function(e){return{root:{},locationCard:{border:"2px solid blue",height:300,width:250,minWidth:250}}})(function(e){var t=e.formatted_address,a=e.name,n=e.image,r=(e.photos,e.place_id),l=(e.classes,e.onLike),i=e.onDislike;return o.a.createElement(B.c,{item:!0,xs:6,direction:"row",alignContent:"center",alignItems:"center",wrap:"wrap"},o.a.createElement(et.a,{style:{boxShadow:"1 1px 5px rgba(0,0,0,0.2)",minHeight:250,maxHeight:250,padding:"0px 10px",paddingTop:"20px",display:"flex",flexFlow:"column nowrap",justifyContent:"space-between"}},n&&o.a.createElement(ot.a,{image:n,title:a}),a&&o.a.createElement(st.a,{gutterBottom:!0,variant:"headline",component:"h2"},a),t&&o.a.createElement(st.a,{component:"p"},t),o.a.createElement(at.a,null,o.a.createElement(lt.a,{size:"small",color:"primary",target:"_blank",onClick:function(){return l(r)}},"Like"),o.a.createElement(lt.a,{size:"small",color:"secondary",target:"_blank",onClick:function(){return i(r)}},"Dislike"))))}),mt=function(e){return e.geometry?o.a.createElement(ut,e):o.a.createElement(ct,e)},pt=a(12),dt=function(e){return{root:{},backdrop:{margin:20,marginTop:50,height:500,width:"100vw",overflow:"visible",marginBottom:120,background:e.palette.primary.main},panel:{transition:"left 0.7s cubic-bezier(0.950, 0.050, 0.795, 0.035)",left:"calc(calc(calc(100vw - 900px) / 2) + 10px)",boxShadow:"1px 3px 9px 0px rgba(0,0,0,0.4)",position:"relative",background:"white",borderRadius:6,height:600,width:600,top:-50,zIndex:0,"&.active":{left:"calc(calc(calc(100vw - 900px) / 2) + 290px)"}},toggleLeft:{color:"white",transform:"translateY(-50%)",position:"absolute",top:"50%",boxSizing:"border-box",padding:20,left:-280,width:280,height:500,zIndex:1,opacity:0,display:"flex",flexFlow:"column nowrap",justifyContent:"center","& > * ":{margin:20},"& button":{borderRadius:24,borderWidth:2},transition:"opacity 0.3s linear 0.0s !important","div.active > &":{opacity:1,transition:"opacity 0.5s linear 0.5s !important"}},toggleRight:{color:"white",transform:"translateY(-50%)",position:"absolute",top:"50%",boxSizing:"border-box",padding:20,left:600,width:280,height:500,zIndex:2,opacity:0,display:"flex",flexFlow:"column nowrap",justifyContent:"center","& > * ":{margin:20},"& button":{borderRadius:24,borderWidth:2},transition:"opacity 0.3s linear 0.0s !important","div:not(.active) > &":{opacity:1,transition:"opacity 0.5s linear 0.5s !important"}},icon:{boxSizing:"border-box",width:200,fontSize:48,textAlign:"center"},expand:{height:"100%",overflowX:"hidden",overflowY:"scroll"}}},ht=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={search:"",toggle:!1},a.onFilterChange=function(e){var t=e.target.value;console.log("searched for:",t),e.target.value?a.setState({search:t}):a.setState({search:""})},a.clearList=function(){a.props.store.clear()},a.togglePanel=function(){a.setState({toggle:!a.state.toggle})},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.store,a=e.classes,n=this.props.store.toggle,r=this.props.store.togglePanel;return console.log(Object(pt.n)(this.props.store)),o.a.createElement("div",{className:a.root},o.a.createElement("div",{className:a.backdrop},o.a.createElement("div",{className:ie()(a.panel,n&&"active")},!n&&o.a.createElement("div",{className:a.expand},t.locations?o.a.createElement(yt,{locations:t.locations,store:t}):"Search for locations on the map"),n&&o.a.createElement("div",{className:a.expand},t.schools?o.a.createElement(vt,{schools:t.schools,store:t}):"No Schools found"),o.a.createElement(gt,Object.assign({className:a.toggleLeft},{togglePanel:r})),o.a.createElement(ft,Object.assign({className:a.toggleRight},{togglePanel:r})))))}}]),t}(n.Component),ft=Object(I.withStyles)(dt)(function(e){var t=e.togglePanel,a=e.classes;return o.a.createElement("div",{className:a.toggleRight,onClick:t},o.a.createElement(B.d,{className:ie()(a.icon,"far fa-heart")}),o.a.createElement(B.f,{color:"inherit",variant:"h5"},"See your favorite locations!"),o.a.createElement(B.a,{variant:"outlined",style:{color:"white",borderColor:"white"},onClick:t},"View Picks"))}),gt=Object(I.withStyles)(dt)(function(e){var t=e.togglePanel,a=e.classes;return o.a.createElement("div",{className:a.toggleLeft,onClick:t},o.a.createElement(B.d,{className:ie()(a.icon,"far fa-map")}),o.a.createElement(B.f,{color:"inherit",variant:"h5"},"Find new and exciting locations!"),o.a.createElement(B.a,{variant:"outlined",style:{color:"white",borderColor:"white"},onClick:t},"See Results"))});function yt(e){var t=e.locations,a=e.store;function n(e){a.saveSchool(e)}function r(e){a.removeLocation(e)}return o.a.createElement(D.Column,{flexGrow:1,horizontal:"center"},o.a.createElement(B.f,{variant:"h4",color:"primary",style:{margin:24}},"Search Results"),o.a.createElement(L.a,{container:!0,spacing:24,style:{padding:24}},t.map(function(e){return o.a.createElement(mt,Object.assign({},e,{onDislike:r,onLike:n,key:e.place_id}))})))}function vt(e){var t=e.schools,a=e.store;function n(e){a.removeSchool(e)}return o.a.createElement(D.Column,{flexGrow:1,horizontal:"center"},o.a.createElement(B.f,{variant:"h4",color:"primary",style:{margin:24}},"My Favorites"),o.a.createElement(L.a,{container:!0,spacing:24,style:{padding:24}},t.map(function(e){return o.a.createElement(mt,Object.assign({},e,{onRemove:n,key:e.name}))})))}ht=Object(I.withStyles)(dt)(Object(A.a)(ht));var bt=_(function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).onSearch=function(e){},a.store=e.store,a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ht,{store:this.store}))}}]),t}(n.Component));a(719);var Et=a(290),xt=a(35),wt=a.n(xt),St=function(e){return wt.a.get("/api/schools/student/"+e)},jt=function(e){return wt.a.delete("/api/schools/"+e)},Ot=function(e){return wt.a.post("/api/schools",e)},kt=function(){function e(t){var a=t.studentId;Object(f.a)(this,e),this.studentId=a,this.locations=[],this.schools=[],this.toggle=!1,this.loadSavedSchools()}return Object(S.a)(e,[{key:"clear",value:function(){this.locations=[]}},{key:"togglePanel",value:function(){this.toggle=!this.toggle}},{key:"switchToResults",value:function(){this.toggle=!1}},{key:"addSchools",value:function(e){console.log("new locations: ",e),this.locations=Object(Et.a)(e)}},{key:"removeLocation",value:function(e){this.locations=this.locations.filter(function(t){return t.place_id!==e})}},{key:"removeSchool",value:function(e){this.schools=this.schools.filter(function(t){return t._id!==e}),jt(e).catch(console.error)}},{key:"saveSchool",value:function(e){if(!Object(pt.n)(this.schools).some(function(t){return t.placeId===e})){var t=this.locations.find(function(t){return t.place_id===e}),a=t.name,n=t.formatted_address,o=(t.place_id,{placeId:e,name:a,address:n,studentId:this.studentId});this.schools.push(o),console.log("saving school: ",o),Ot(o).catch(console.error)}}},{key:"loadSavedSchools",value:function(){var e=this;console.log("loaded student id: ",this.studentId),St(this.studentId).then(function(t){var a=t.data;console.log("saved schools: ",a),e.schools=a}).catch(console.error)}}]),e}();Object(pt.g)(kt,{locations:pt.l,schools:pt.l,toggle:pt.l,clear:pt.d,addSchools:pt.d,togglePanel:pt.d.bound,switchToResults:pt.d.bound});var Ct=function(e){var t=e.classes,a=e.studentId,n=new kt({studentId:a});return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.content},o.a.createElement(B.b,{className:t.maps},o.a.createElement(Ue,{store:n})),o.a.createElement(bt,{store:n})))},Tt=M(function(e){return!!e})(Object(I.withStyles)(function(e){return{root:{background:"linear-gradient(to bottom, ".concat("#ffe8bd"," 30% , ",e.palette.primary.dark," 80%)"),width:"100vw",display:"flex",flexFlow:"row nowrap",justifyContent:"center",overflow:"hidden"},content:{minWidth:900,maxWidth:900,overflow:"visible"},maps:{borderRadius:8,padding:20,boxSizing:"border-box",boxShadow:"1px 3px 9px 0px rgba(0,0,0,0.4)",margin:"20px 10px"}}})(function(e){var t=e.classes;return o.a.createElement(w.Consumer,null,function(e){return o.a.createElement("div",null,o.a.createElement(Ct,{classes:t,studentId:e.uid}))})})),Pt=a(125),Mt=(a(738),["Taekwondo","Brazilian Jiu-Jitsu","Kickboxing","Karate","Jeet Kun Do","Kung Fu","Tai Chi","Fencing","Krav Maga","Muay Thai","Arnis","Aikido","Mixed Martial Arts","Boxing","Capoeira","Wrestling","Jojutso","Judo","Kendo","Ninjutsu","Sambo","Sumo","Wing Chun"]);Pt.StylesManager.applyTheme("default");var It=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).state={disciplines:[]},a.json={title:"Kiyapp Survey",pages:[{name:"Experience",elements:[{type:"dropdown",name:"Favorite",title:"Which is your favorite martial art?",isRequired:!0,choices:Mt}],title:"Your Experience"}],sendResultOnPageNext:!0,showNavigationButtons:"top",showPageNumbers:!0,startSurveyText:"Start",pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete"},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentWillMount",value:function(){console.log("will mount")}},{key:"componentDidMount",value:function(){console.log("survey has mounted"),console.log(this.props)}},{key:"onComplete",value:function(e,t,a){console.log(t),t.push("/signup"),console.log("Survey results: "+JSON.stringify(e.data)),localStorage.setItem("surveyData",JSON.stringify(e.data))}},{key:"render",value:function(){var e=this,t=this.state.disciplines;console.log("render",this.json);var a=Nt(this.json,["pages",0,"elements",0,"choices"]);t.forEach(function(e){return a.push(e)});var r=new Pt.Model(this.json);return o.a.createElement(n.Fragment,null,o.a.createElement(Pt.Survey,{model:r,onComplete:function(t){return e.onComplete(t,e.props.history)}}))}}]),t}(n.Component),Nt=function(e,t){return t.reduce(function(e,t){return e&&"undefined"!==e[t]?e[t]:void 0},e)},Wt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(j.a)(this,Object(O.a)(t).call(this,e))).state={loading:!1,users:[]},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",function(t){var a=t.val();console.log("users obj:",a);var n=Object.keys(a).map(function(e){return Object(R.a)({},a[e],{uid:e})});e.setState({users:n,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return o.a.createElement("div",null,o.a.createElement("h1",null,"Admin"),console.log("loading: ",a,"users:",t),a&&o.a.createElement("div",null,"Loading ..."),o.a.createElement(zt,{users:t}))}}]),t}(n.Component),zt=function(e){var t=e.users;return o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.uid},o.a.createElement("span",null,o.a.createElement("strong",null,"ID:")," ",e.uid),o.a.createElement("span",null,o.a.createElement("strong",null,"E-Mail:")," ",e.email),o.a.createElement("span",null,o.a.createElement("strong",null,"Username:")," ",e.username))}))},At=(d(Wt),Object(I.createMuiTheme)({palette:{primary:{main:"#ff1744"},secondary:{main:"#000"}}})),Ft=function(e){var t=e.classes,a=e.location;return o.a.createElement(I.MuiThemeProvider,{theme:At},o.a.createElement(z,{className:t.navigation}),o.a.createElement("div",{className:t.root},o.a.createElement(c.a,{location:a},o.a.createElement(u.a,{exact:!0,path:E,component:Tt}),o.a.createElement(u.a,{exact:!0,path:"/survey",component:It}),o.a.createElement(u.a,{path:"/",component:pe}))))},Rt=C(Object(I.withStyles)(function(e){return{root:{background:"white",height:"calc(100vh - 50px)",textAlign:"center",overflowX:"hidden",overflowY:"scroll",display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"flex-start",paddingTop:50},navigation:{position:"aboslute",background:"black !important",height:50,boxSizing:"border-box"}}})(function(e){var t=e.classes;return o.a.createElement(s.a,null,o.a.createElement(Ft,{classes:t}))}));l.a.render(o.a.createElement(h.Provider,{value:new b},o.a.createElement(Rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[367,1,2]]]);
//# sourceMappingURL=main.500df027.chunk.js.map