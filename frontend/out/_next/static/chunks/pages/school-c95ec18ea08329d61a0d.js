_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{"+8XL":function(e,n,t){"use strict";t.r(n),t.d(n,"SchoolGrid",(function(){return s}));var r=t("nKUr"),o=(t("q1tI"),t("z0gp")),c=t("F2j1"),i=t("PoRZ"),a=t("eW31"),s=Object(a.a)((function(e){var n=e.schoolStore;return Object(r.jsx)(o.a,{columns:1,spacing:"1rem",children:n.schools.map((function(e,n){return Object(r.jsx)(c.b,{children:Object(r.jsx)(i.SchoolCard,{school:e})},n)}))})}));n.default=s},"F+Ee":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t("U6LL"),o=t("pr4h"),c={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},i=Object(r.a)("span",{baseStyle:c});o.a&&(i.displayName="VisuallyHidden");var a=Object(r.a)("input",{baseStyle:c});o.a&&(a.displayName="VisuallyHiddenInput")},Lnxd:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var r=t("q1tI"),o=t.n(r),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=o.a.createContext&&o.a.createContext(c),a=function(){return(a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function l(e){return e&&e.map((function(e,n){return o.a.createElement(e.tag,a({key:n},e.attr),l(e.child))}))}function u(e){return function(n){return o.a.createElement(d,a({attr:a({},e.attr)},n),l(e.child))}}function d(e){var n=function(n){var t,r=e.attr,c=e.size,i=e.title,l=s(e,["attr","size","title"]),u=c||n.size||"1em";return n.className&&(t=n.className),e.className&&(t=(t?t+" ":"")+e.className),o.a.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:t,style:a(a({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&o.a.createElement("title",null,i),e.children)};return void 0!==i?o.a.createElement(i.Consumer,null,(function(e){return n(e)})):n(c)}},PoRZ:function(e,n,t){"use strict";t.r(n),t.d(n,"SchoolCard",(function(){return P}));var r=t("rePB"),o=t("nKUr"),c=t("q1tI"),i=t("tofy"),a=t("wZsY"),s=t("rGDf"),l=t("sKyC"),u=t("4jWa"),d=t("CRla"),p=t("U6LL"),f=t("epLR"),h=t("pr4h");function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var b=Object(l.a)(((e,n)=>{var t=Object(u.b)("Badge",e),r=function(e,n){if(null==e)return{};var t,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(Object(d.b)(e),["className"]);return c.createElement(p.a.span,g({ref:n,className:Object(f.b)("chakra-badge",e.className)},r,{__css:g({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},t)}))}));h.a&&(b.displayName="Badge");var j=t("K8wj"),O=t("qtta"),m=t("aFzQ"),v=t("eW31"),y=t("ma3e"),x=t("v7au");function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N={size:"20px",color:"dodgerblue"},P=Object(v.a)((function(e){var n=e.school,t=Object(m.w)(null===n||void 0===n?void 0:n.disciplines)||[];return Object(o.jsx)(j.a,{children:{content:Object(o.jsx)(i.a,{align:"center",mt:4,mb:4,padding:2,spacing:2,margin:2,children:Object(o.jsxs)(a.a,{children:[Object(o.jsx)(s.a,{color:"#fff",size:"sm",children:n.name}),Object(o.jsx)(i.a,{align:"flex-end",padding:2,spacing:2,margin:2,children:t.map((function(e,n){return Object(o.jsx)(b,{variant:"outline",margin:"2px",colorScheme:"purple",children:e.name},n)}))}),Object(o.jsx)(i.a,{align:"center",color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",fontSize:"xs",textTransform:"uppercase",ml:"2",children:(null===n||void 0===n?void 0:n.description)||""}),Object(o.jsx)("span",{children:n.averageAge})]})}),actions:Object(o.jsxs)(a.a,{direction:"row",padding:2,spacing:2,margin:2,children:[n.isLiked?Object(o.jsx)(O.c,S(S({},N),{},{onClick:function(){return n.like()}})):Object(o.jsx)(O.a,{size:20,color:"#815",onClick:function(){return n.like()}}),Object(o.jsx)(y.a,S({},N)),Object(o.jsx)(x.b,S({onClick:function(){return n.delete()}},N))]}),media:Object(o.jsx)("div",{})}})}));n.default=P},R8uQ:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return c}));var r=t("vDqi"),o=t.n(r),c={Log:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An Error occurred!";if(n){var r="".concat(e.env.ENDPOINT||"http://localhost:1337","/bugs");console.error(n),o.a.post(r,{message:"## Bug Report\n### The Following Error Occurred in your App:\n*".concat(t,"*\n### Stack Trace\n").concat(n),screenshot:null}).then((function(e){return console.info("Bug saved successfully")})).catch((function(e){return console.error("Bug could not be saved.  Please contact your administrator"+n)}))}}}}).call(this,t("8oxB"))},Rq8G:function(e,n,t){"use strict";var r=t("99Ma"),o=r.i.model({id:r.i.string,name:r.i.string,age:r.i.number,gender:r.i.string}).actions((function(e){return{changeName:function(n){e.name=n},changeAge:function(n){e.age=n},remove:function(){Object(r.f)(e,2).remove(e)}}}));n.a=o},U6Xn:function(e,n,t){"use strict";t.r(n),t.d(n,"SchoolsPage",(function(){return j}));var r=t("nKUr"),o=t("KQm4"),c=t("h4VS"),i=(t("q1tI"),t("VP/N")),a=t("uLJG"),s=t("wZsY"),l=t("rSbr"),u=t("+8XL"),d=t("VX74"),p=t("lTCR"),f=t.n(p),h=t("zfiT");function g(){var e=Object(c.a)(["\n{\n  schools {\n    id\n    name\n    description\n    image {\n        url\n    }\n    disciplines {\n        name\n    }\n  }\n}\n"]);return g=function(){return e},e}var b=f()(g()),j=function(){var e=Object(i.a)(),n=(e.isOpen,e.onOpen,e.onClose,Object(d.useQuery)(b)),t=n.loading,c=n.error,p=n.data;if(p&&console.log("data",p),c)return Object(r.jsx)("div",{children:'"Error loading schools"'});if(t)return Object(r.jsx)(a.a,{});if(p.schools&&p.schools.length){var f=l.a.create({schools:Object(o.a)(p.schools)});return Object(r.jsxs)(s.a,{overflow:"hidden",children:[Object(r.jsx)(u.SchoolGrid,{schoolStore:f}),Object(r.jsx)(h.SchoolForm,{schoolStore:f})]})}};n.default=j},W8Wh:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("99Ma"),o=r.i.model({name:r.i.string})},jncT:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/school",function(){return t("U6Xn")}])},rSbr:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return g}));var r=t("o0o1"),o=t.n(r),c=t("vDqi"),i=t.n(c),a=t("99Ma"),s=t("R8uQ"),l=t("W8Wh"),u=t("Rq8G"),d="".concat(e.env.ENDPOINT||"http://localhost:1337","/schools"),p=a.i.model({name:a.i.string}),f=a.i.model({url:a.i.string}),h=a.i.model({id:a.i.string,name:a.i.maybe(a.i.string),description:a.i.optional(a.i.string,""),image:a.i.maybeNull(f),address:a.i.maybeNull(a.i.string),students:a.i.array(u.a),disciplines:a.i.array(p),instructors:a.i.array(l.a)}).actions((function(e){return{register:function(n){e.students.push(n)},expell:function(e){Object(a.d)(e)},like:function(e){},getLikes:function(){},delete:function(){Object(a.f)(e,2).remove(e)}}})).views((function(e){return{get studentCount(){return e.students.length},get averageAge(){return e.students.length>0?e.students.reduce((function(e,n){return e+n.age}),0)/e.students.length:null},get isLiked(){return!0}}})),g=a.i.model("SchoolStore",{loaded:a.i.maybeNull(a.i.boolean),schools:a.i.array(h),endpoint:d}).actions((function(e){return{addSchool:Object(a.e)(o.a.mark((function n(t){var r,c;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("adding school :>> ",t),r={method:"POST",headers:{"Content-Type":"application/json"},url:e.endpoint},t){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,i.a.post(e.endpoint,t,r);case 6:c=n.sent,console.log("response.data",c.data),c.error&&s.a.Log(c.error,"Saving a new school"),t.id=c.data.id.toString(),e.schools.push(t),console.log("self.schools",e.schools.length);case 12:case"end":return n.stop()}}),n)}))),remove:Object(a.e)(o.a.mark((function n(t){var r,c,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(null===t||void 0===t?void 0:t.toJSON())||{},c={method:"DELETE",url:e.endpoint+"/"+r.id},console.log("config",c),n.next=5,i.a.delete(c.url,c);case 5:(l=n.sent).error&&s.a.Log(l.error,"Deleting a school"),Object(a.d)(t);case 8:case"end":return n.stop()}}),n)})))}}))}).call(this,t("8oxB"))}},[["jncT",1,0,2,6,8,7,12,16,3,4,5,9,10,13,18]]]);