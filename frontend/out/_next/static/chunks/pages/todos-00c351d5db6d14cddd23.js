_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[41],{"8oxB":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var a,f=[],s=!1,l=-1;function d(){s&&a&&(s=!1,a.length?f=a.concat(f):l=-1,f.length&&h())}function h(){if(!s){var e=c(d);s=!0;for(var t=f.length;t;){for(a=f,f=[];++l<t;)a&&a[l].run();l=-1,t=f.length}a=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new p(e,t)),1!==f.length||s||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},"c+fK":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/todos",function(){return n("dLEw")}])},dLEw:function(e,t,n){"use strict";n.r(t),n.d(t,"TodoStore",(function(){return c}));var r=n("nKUr"),o=n("eW31"),i=n("99Ma"),u=(n("q1tI"),i.i.model("Todo",{id:i.i.optional(i.i.number,(function(){return Math.random()})),title:i.i.string,finished:!1}).actions((function(e){return{toggle:function(){e.finished=!e.finished}}}))),c=i.i.model("TodoStore",{todos:i.i.array(u)}).views((function(e){return{get unfinishedTodoCount(){return e.todos.filter((function(e){return!e.finished})).length},get completedTodos(){return e.todos.filter((function(e){return e.finished}))},findTodosByUser:function(e){}}})).actions((function(e){return{addTodo:function(t){e.todos.push({title:t}),console.log(e.todos.length)}}})),a=Object(o.a)((function(e){var t=e.todo;return Object(r.jsxs)("li",{children:[Object(r.jsx)("input",{type:"checkbox",checked:t.finished,onClick:t.toggle}),t.title]})})),f=Object(o.a)((function(e){var t=e.todoStore;return Object(r.jsxs)("div",{children:[Object(r.jsx)("ul",{children:t.todos.map((function(e,t){return Object(r.jsx)(a,{todo:e},t)}))}),Object(r.jsx)("button",{onClick:function(e){e.stopPropagation();var n=Math.floor(999*Math.random());t.addTodo("Todo - ".concat(n)),console.log("storeIntance.todos.length",t.todos.length)},children:"+"}),Object(r.jsx)("span",{children:"Count ".concat(t.todos.length)})]})}));t.default=f},eW31:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("q1tI"),o=n.n(r),i=!1;function u(){return i}var c=n("aFzQ");function a(e){return Object(c.l)(e)}var f="undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry;function s(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+l}}var l=1e4;var d=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var h=f?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,o,i){var u=n++;return r.register(i,u,e),e.current=s(o),e.current.finalizationRegistryCleanupToken=u,t.set(u,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(f):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,o){var i;return e.current=s(r),i=e,t.add(i),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var o=d(t),i=o.next();!i.done;i=o.next()){var u=i.value,c=u.current;c&&(c.reaction.dispose(),u.current=null)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),p=h.addReactionToTrack,v=h.recordReactionAsCommitted,y=(h.resetCleanupScheduleForTests,h.forceCleanupTimerToRunNowForTests,function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}),m=[];var w=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u};function T(e){return"observer"+e}var b=function(){};function g(e,t){if(void 0===t&&(t="observed"),u())return e();var n=w(o.a.useState(new b),1)[0],i=function(){var e=y(Object(r.useState)(0),2)[1];return Object(r.useCallback)((function(){e((function(e){return e+1}))}),m)}(),f=o.a.useRef(null);if(!f.current)var s=new c.b(T(t),(function(){l.mounted?i():l.changedBeforeMount=!0})),l=p(f,s,n);var d,h,g=f.current.reaction;if(o.a.useDebugValue(g,a),o.a.useEffect((function(){return v(f),f.current?(f.current.mounted=!0,f.current.changedBeforeMount&&(f.current.changedBeforeMount=!1,i())):(f.current={reaction:new c.b(T(t),(function(){i()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},i()),function(){f.current.reaction.dispose(),f.current=null}}),[]),g.track((function(){try{d=e()}catch(t){h=t}})),h)throw h;return d}var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function O(e,t){if(u())return e;var n,o,i,c=j({forwardRef:!1},t),a=e.displayName||e.name,f=function(t,n){return g((function(){return e(t,n)}),a)};return f.displayName=a,n=c.forwardRef?Object(r.memo)(Object(r.forwardRef)(f)):Object(r.memo)(f),o=e,i=n,Object.keys(o).forEach((function(e){x[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})),n.displayName=a,n}var x={$$typeof:!0,render:!0,compare:!0,type:!0}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n}},[["c+fK",1,0,2,6]]]);